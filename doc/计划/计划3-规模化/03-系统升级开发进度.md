# æŠ•èµ„å†³ç­–ç³»ç»Ÿå¼€å‘è¿›åº¦è·Ÿè¸ª

> æŠ•èµ„å†³ç­–è¾…åŠ©ç³»ç»Ÿå‡çº§ - ä»»åŠ¡è·Ÿè¸ª
> æ—¶é—´: Month 3-4 (8å‘¨)
> çŠ¶æ€: âœ… Phase 1-5 å·²å®Œæˆ (Week 1-6) â†’ Phase 6 å¾…å¼€å§‹ (Week 7-8)
> å¯¹åº”è®¡åˆ’æ–‡æ¡£: [02-æŠ•èµ„å†³ç­–ç³»ç»Ÿå‡çº§è®¡åˆ’](./02-æŠ•èµ„å†³ç­–ç³»ç»Ÿå‡çº§.md)

---

## å‰ç½®æ£€æŸ¥

- [x] è®¡åˆ’3å·²å®Œæˆ (30å®¶å…¬å¸æ•°æ®è¦†ç›–)
- [x] åŸºç¡€æ¶æ„ç¨³å®š (Supabase, Vercel)
- [x] DeepSeek APIé…é¢å……è¶³
- [x] Phase 1: æ•°æ®åŸºç¡€è®¾æ–½ (Week 1-2) âœ… å·²å®Œæˆ
- [x] Phase 2: AIåˆ†æå¼•æ“ (Week 2) âœ… å·²å®Œæˆ
- [x] Phase 3: APIå¼€å‘ (Week 3) âœ… å·²å®Œæˆ

---

## Phase 1: æ•°æ®åŸºç¡€è®¾æ–½ (Week 1-2)

### Day 1-2: æ•°æ®åº“Schemaè®¾è®¡ âœ…

**ç›®æ ‡**: åˆ›å»ºæŠ•èµ„å†³ç­–ç³»ç»Ÿæ‰€éœ€çš„æ‰€æœ‰æ•°æ®è¡¨

- [x] åˆ›å»º `company_valuation` ä¼°å€¼æŒ‡æ ‡è¡¨
- [x] åˆ›å»º `industry_benchmarks` è¡Œä¸šåŸºå‡†è¡¨
- [x] åˆ›å»º `peer_comparison` ç«äº‰å¯¹æ¯”è¡¨
- [x] åˆ›å»º `research_reports` ç ”æŠ¥ä¸»è¡¨
- [x] åˆ›å»º `analyst_tracking` åˆ†æå¸ˆè¿½è¸ªè¡¨
- [x] åˆ›å»º `earnings_consensus` ç›ˆåˆ©é¢„æµ‹å…±è¯†è¡¨
- [x] åˆ›å»º `earnings_documents` è´¢æŠ¥åŸæ–‡è¡¨
- [x] åˆ›å»º `research_documents` ç ”æŠ¥åŸæ–‡è¡¨
- [x] åˆ›å»º `document_access_logs` è®¿é—®æ—¥å¿—è¡¨ (ç‰ˆæƒå®¡è®¡)

**è¯¦ç»†ä»»åŠ¡**:
```sql
-- æ‰§è¡Œè¿ç§»è„šæœ¬
-- 1. ä¼°å€¼æŒ‡æ ‡è¡¨
CREATE TABLE company_valuation (...);

-- 2. è¡Œä¸šåŸºå‡†è¡¨
CREATE TABLE industry_benchmarks (...);

-- 3. ç«äº‰å¯¹æ¯”è¡¨
CREATE TABLE peer_comparison (...);

-- 4. ç ”æŠ¥ç›¸å…³è¡¨
CREATE TABLE research_reports (...);
CREATE TABLE analyst_tracking (...);
CREATE TABLE earnings_consensus (...);

-- 5. åŸæ–‡å±•ç¤ºè¡¨
CREATE TABLE earnings_documents (...);
CREATE TABLE research_documents (...);
CREATE TABLE document_access_logs (...);
```

**æ•°æ®éªŒè¯**:
- [x] éªŒè¯æ‰€æœ‰è¡¨åˆ›å»ºæˆåŠŸ
- [x] éªŒè¯å¤–é”®çº¦æŸæ­£ç¡®
- [x] éªŒè¯ç´¢å¼•ä¼˜åŒ–

**é¢„è®¡ç”¨æ—¶**: 8å°æ—¶  
**å®é™…ç”¨æ—¶**: 6å°æ—¶  
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**ä¾èµ–**: æ—   
**ä»£ç ä½ç½®**: `supabase/migrations/005_investment_system_schema.sql`

---

### Day 3-4: æ•°æ®æºé›†æˆ - ä¼°å€¼æ•°æ® âœ…

**ç›®æ ‡**: é›†æˆYahoo Finance APIè·å–ä¼°å€¼æŒ‡æ ‡

- [x] æ³¨å†ŒYahoo Finance API (yahoo-finance2åº“)
- [x] ç¼–å†™ä¼°å€¼æ•°æ®è·å–è„šæœ¬
- [x] å®ç°P/Eã€P/Bã€P/Sã€EV/EBITDAè·å–
- [x] å®ç°å¸‚å€¼ã€ROEã€ROAè·å–
- [x] æ•°æ®æ¸…æ´—å’ŒéªŒè¯
- [x] å…¥åº“è„šæœ¬å¼€å‘

**æŠ€æœ¯æ–¹æ¡ˆ**:
```typescript
// scripts/fetch-valuation.ts
interface ValuationData {
  symbol: string;
  pe_ratio: number;
  pb_ratio: number;
  ps_ratio: number;
  ev_ebitda: number;
  roe: number;
  roa: number;
  market_cap: number;
  updated_at: string;
}

// æ•°æ®æº: Yahoo Finance / Alpha Vantage
const fetchValuation = async (symbol: string): Promise<ValuationData> => {
  // APIè°ƒç”¨
  // æ•°æ®éªŒè¯
  // è¿”å›ç»“æ„åŒ–æ•°æ®
};
```

**æµ‹è¯•ç”¨ä¾‹**:
- [x] æµ‹è¯•AAPLä¼°å€¼æ•°æ®è·å–
- [x] æµ‹è¯•NVDAä¼°å€¼æ•°æ®è·å–
- [x] æµ‹è¯•æ•°æ®å…¥åº“

**é¢„è®¡ç”¨æ—¶**: 6å°æ—¶  
**å®é™…ç”¨æ—¶**: 5å°æ—¶  
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**ä¾èµ–**: Day 1-2å®Œæˆ  
**ä»£ç ä½ç½®**: `scripts/fetch-valuation.ts`

---

### Day 5-6: æ•°æ®æºé›†æˆ - è¡Œä¸šåŸºå‡†æ•°æ® âœ…

**ç›®æ ‡**: æ„å»ºè¡Œä¸šåŸºå‡†å¯¹æ¯”æ•°æ®

- [x] å®šä¹‰è¡Œä¸šåˆ†ç±»æ ‡å‡†
- [x] æ”¶é›†å„è¡Œä¸šå¹³å‡ä¼°å€¼æ•°æ®
- [x] è®¡ç®—è¡Œä¸šä¸­ä½æ•°ã€å‡å€¼
- [x] å»ºç«‹è¡Œä¸šæ’åä½“ç³»

**è¡Œä¸šåˆ†ç±»**:
```typescript
const SECTORS = [
  'åŠå¯¼ä½“',
  'è½¯ä»¶æœåŠ¡',
  'äº’è”ç½‘',
  'æ¶ˆè´¹ç”µå­',
  'äº‘è®¡ç®—',
  'äººå·¥æ™ºèƒ½',
  'ç”µåŠ¨æ±½è½¦',
  'ç”µå•†'
];

// ä¸ºæ¯ä¸ªè¡Œä¸šæ”¶é›†:
// - å¹³å‡P/E
// - ä¸­ä½æ•°P/E
// - å¹³å‡ROE
// - å¹³å‡è¥æ”¶å¢é•¿ç‡
```

**æ•°æ®æ¥æº**:
- Yahoo Finance (è¡Œä¸šETFæ•°æ®)
- FMP API (è¡Œä¸šç»Ÿè®¡æ•°æ®)
- æ‰‹åŠ¨æ•´ç† (åˆæœŸè¡¥å……)

**é¢„è®¡ç”¨æ—¶**: 6å°æ—¶  
**å®é™…ç”¨æ—¶**: 4å°æ—¶  
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**ä¾èµ–**: Day 3-4å®Œæˆ  
**ä»£ç ä½ç½®**: `scripts/build-industry-benchmarks.ts`

---

### Day 7: æ•°æ®åŒæ­¥è‡ªåŠ¨åŒ– âœ…

**ç›®æ ‡**: å»ºç«‹è‡ªåŠ¨åŒ–æ•°æ®åŒæ­¥æœºåˆ¶

- [x] åˆ›å»ºä¼°å€¼æ•°æ®æ—¥åŒæ­¥è„šæœ¬
- [x] åˆ›å»ºè¡Œä¸šåŸºå‡†å‘¨æ›´æ–°è„šæœ¬
- [x] è®¾ç½®GitHub Actionså®šæ—¶ä»»åŠ¡
- [x] æ·»åŠ æ•°æ®è´¨é‡ç›‘æ§

**GitHub Actionsé…ç½®**:
```yaml
# .github/workflows/sync-valuation.yml
name: Sync Valuation Data
on:
  schedule:
    - cron: '0 6 * * *'  # æ¯å¤©æ—©6ç‚¹
jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      - name: Fetch Valuation Data
        run: npm run sync:valuation
```

**ç›‘æ§å‘Šè­¦**:
- [x] æ•°æ®è·å–å¤±è´¥å‘Šè­¦
- [x] æ•°æ®å¼‚å¸¸å€¼æ£€æµ‹ (P/E > 1000ç­‰)
- [x] åŒæ­¥ä»»åŠ¡å¤±è´¥é€šçŸ¥

**é¢„è®¡ç”¨æ—¶**: 4å°æ—¶  
**å®é™…ç”¨æ—¶**: 3å°æ—¶  
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**ä¾èµ–**: Day 5-6å®Œæˆ  
**ä»£ç ä½ç½®**: 
- `.github/workflows/sync-investment-data.yml`
- `scripts/fetch-valuation.ts`
- `scripts/build-industry-benchmarks.ts`

---

## Week 2: AIåˆ†æå¼•æ“å‡çº§ âœ…

### Day 8-9: Promptå·¥ç¨‹ - äº”ç»´åˆ†ææ¡†æ¶ âœ…

**ç›®æ ‡**: è®¾è®¡æœºæ„çº§æŠ•èµ„åˆ†æPrompt

- [x] è®¾è®¡è´¢åŠ¡è´¨é‡åˆ†æPrompt (æœé‚¦åˆ†æ)
- [x] è®¾è®¡æˆé•¿æ€§è¯„ä¼°Prompt (Sæ›²çº¿)
- [x] è®¾è®¡æŠ¤åŸæ²³è¯„ä¼°Prompt (æ³¢ç‰¹äº”åŠ›)
- [x] è®¾è®¡ä¼°å€¼åˆ†æPrompt (å¤šæ–¹æ³•ç»¼åˆ)
- [x] è®¾è®¡é£é™©ä¸å‚¬åŒ–å‰‚Prompt

**æ ¸å¿ƒPromptç»“æ„**:
```typescript
const INVESTMENT_ANALYSIS_PROMPT = `ä½œä¸ºCFAæŒè¯åˆ†æå¸ˆï¼Œè¯·åŸºäºä»¥ä¸‹æ•°æ®ç”ŸæˆæŠ•èµ„åˆ†ææŠ¥å‘Šï¼š

ã€è¾“å…¥æ•°æ®ã€‘
1. è´¢åŠ¡æ•°æ®: [è¥æ”¶ã€EPSã€å‡€åˆ©æ¶¦ã€ç°é‡‘æµã€ROEã€ROIC]
2. ä¼°å€¼æ•°æ®: [P/Eã€P/Bã€PSã€EV/EBITDAã€å†å²åˆ†ä½]
3. è¡Œä¸šå¯¹æ¯”: [åŒè¡Œæ•°æ®ã€è¡Œä¸šæ’å]
4. å®è§‚ç¯å¢ƒ: [åˆ©ç‡ã€æ”¿ç­–ã€è¡Œä¸šè¶‹åŠ¿]

ã€åˆ†ææ¡†æ¶ã€‘
1. è´¢åŠ¡è´¨é‡è¯„åˆ† (ROEæœé‚¦æ‹†è§£ã€ROICã€ç°é‡‘æµå¥åº·åº¦)
2. æˆé•¿æ€§è¯„ä¼° (è¥æ”¶å¢é•¿ã€pipelineã€Sæ›²çº¿å®šä½)
3. æŠ¤åŸæ²³è¯†åˆ« (ç«äº‰ä¼˜åŠ¿ã€æ³¢ç‰¹äº”åŠ›é‡åŒ–)
4. ä¼°å€¼åˆ¤æ–­ (DCFã€ç›¸å¯¹ä¼°å€¼ã€å†å²åˆ†ä½)
5. é£é™©ä¸å‚¬åŒ–å‰‚ (3å¤§é£é™© + 3å¤§å‚¬åŒ–å‰‚)

ã€è¾“å‡ºè¦æ±‚ã€‘
- æŠ•èµ„è¯„çº§: å¼ºçƒˆä¹°å…¥/ä¹°å…¥/æŒæœ‰/å–å‡º/å¼ºçƒˆå–å‡º
- ç½®ä¿¡åº¦: é«˜/ä¸­/ä½
- ç›®æ ‡ä»·åŒºé—´: [ä½-é«˜]
- æ ¸å¿ƒé€»è¾‘: 3-5æ¡
- ä¸»è¦é£é™©: 2-3æ¡
- å…³é”®å‚¬åŒ–å‰‚: åˆ—å‡º upcoming events

JSONæ ¼å¼è¾“å‡º`;
```

**A/Bæµ‹è¯•**:
- [x] æµ‹è¯•ä¸åŒPromptçš„è¾“å‡ºè´¨é‡
- [x] å¯¹æ¯”äººå·¥åˆ†æéªŒè¯å‡†ç¡®æ€§
- [x] é€‰æ‹©æœ€ä¼˜Promptç‰ˆæœ¬

**é¢„è®¡ç”¨æ—¶**: 8å°æ—¶  
**å®é™…ç”¨æ—¶**: 6å°æ—¶  
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**ä¾èµ–**: Week 1å®Œæˆ  
**ä»£ç ä½ç½®**: `src/lib/prompts/investment-analysis.ts`

---

### Day 10-11: AIåˆ†æå¼•æ“å¼€å‘ âœ…

**ç›®æ ‡**: å®ç°å¤šç»´åº¦AIåˆ†ææ¨¡å—

- [x] å®ç°è´¢åŠ¡è´¨é‡è¯„åˆ†æ¨¡å—
- [x] å®ç°æˆé•¿æ€§è¯„ä¼°æ¨¡å—
- [x] å®ç°æŠ¤åŸæ²³è¯„ä¼°æ¨¡å—
- [x] å®ç°ä¼°å€¼åˆ†ææ¨¡å—
- [x] å®ç°é£é™©è¯†åˆ«æ¨¡å—
- [x] æ•´åˆç»¼åˆæŠ•èµ„å»ºè®®

**æ¨¡å—æ¶æ„**:
```typescript
// src/lib/analysis/investment-analyzer.ts
class InvestmentAnalyzer {
  async analyze(symbol: string): Promise<InvestmentAnalysis> {
    // å¹¶è¡Œæ‰§è¡Œå„ç»´åº¦åˆ†æ
    const [
      financialQuality,
      growthAssessment,
      moatEvaluation,
      valuationAnalysis,
      riskAssessment
    ] = await Promise.all([
      this.analyzeFinancialQuality(symbol),
      this.analyzeGrowth(symbol),
      this.evaluateMoat(symbol),
      this.analyzeValuation(symbol),
      this.assessRisks(symbol)
    ]);
    
    // ç»¼åˆè¯„åˆ†
    return this.aggregateAnalysis({
      financialQuality,
      growthAssessment,
      moatEvaluation,
      valuationAnalysis,
      riskAssessment
    });
  }
}
```

**å•å…ƒæµ‹è¯•**:
- [x] æµ‹è¯•AAPLåˆ†æç»“æœåˆç†æ€§
- [x] æµ‹è¯•NVDAåˆ†æç»“æœåˆç†æ€§
- [x] æµ‹è¯•è¾¹ç•Œæƒ…å†µå¤„ç†

**é¢„è®¡ç”¨æ—¶**: 10å°æ—¶  
**å®é™…ç”¨æ—¶**: 8å°æ—¶  
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**ä¾èµ–**: Day 8-9å®Œæˆ  
**ä»£ç ä½ç½®**: `src/lib/analysis/investment-analyzer.ts`

---

### Day 12-14: è´¢æŠ¥åŸæ–‡è·å–ä¸å¤„ç† âœ…

**ç›®æ ‡**: å®ç°è´¢æŠ¥åŸæ–‡è·å–å’Œå±•ç¤ºåŠŸèƒ½

- [x] ç ”ç©¶SEC EDGAR APIè·å–10-K/10-Q
- [x] å®ç°XBRLæ ¼å¼è§£æ
- [x] æå–è´¢åŠ¡æ•°æ®è¡¨æ ¼
- [x] æå–ç®¡ç†å±‚è®¨è®º(MD&A)åŸæ–‡
- [x] ç»“æ„åŒ–å­˜å‚¨åŸæ–‡å†…å®¹
- [x] å®ç°åŸæ–‡ä¸AIæ‘˜è¦å…³è”

**æŠ€æœ¯æ–¹æ¡ˆ**:
```typescript
// scripts/fetch-sec-document.ts
interface SECDocument {
  symbol: string;
  filingType: '10-K' | '10-Q';
  filingDate: string;
  content: {
    financialHighlights: string;
    mdAndA: string;
    riskFactors: string[];
    guidance: string;
  };
  sourceUrl: string;
}

// è·å–æµç¨‹
const fetchSECDocument = async (symbol: string, formType: string) => {
  // 1. æŸ¥è¯¢CIK
  // 2. è·å–æœ€æ–°filing
  // 3. ä¸‹è½½XBRL/HTML
  // 4. è§£æå†…å®¹
  // 5. ç»“æ„åŒ–å­˜å‚¨
};
```

**SEC EDGARé›†æˆ**:
- [x] CIKæ˜ å°„è¡¨ (30å®¶å…¬å¸)
- [x] FilingæŸ¥è¯¢æ¥å£
- [x] æ–‡æ¡£ä¸‹è½½å’Œè§£æ
- [x] å†…å®¹åˆ†æ®µå¤„ç†

**é¢„è®¡ç”¨æ—¶**: 12å°æ—¶  
**å®é™…ç”¨æ—¶**: 10å°æ—¶  
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**ä¾èµ–**: Day 10-11å®Œæˆ  
**ä»£ç ä½ç½®**: 
- `src/lib/sec-edgar/fetch-document.ts`
- `src/lib/sec-edgar/cik-map.ts`

---

## Phase 3: APIä¸åç«¯å¼€å‘ (Week 3) âœ…

### Day 15-17: æ ¸å¿ƒAPIç«¯ç‚¹å¼€å‘ âœ…

**ç›®æ ‡**: å¼€å‘æŠ•èµ„å†³ç­–ç³»ç»ŸAPI

- [x] `GET /api/valuation/[symbol]` - ä¼°å€¼æ•°æ®
- [x] `GET /api/peers/[symbol]` - åŒè¡Œå¯¹æ¯”
- [x] `GET /api/analysis/[symbol]/investment` - æŠ•èµ„å»ºè®®
- [x] `GET /api/sectors` - è¡Œä¸šæ•°æ®
- [x] `GET /api/earnings/[id]/document` - è´¢æŠ¥åŸæ–‡
- [ ] `GET /api/earnings/[id]/summary` - AIæ‘˜è¦ (V2)
- [x] `GET /api/research/[symbol]` - ç ”æŠ¥åˆ—è¡¨
- [ ] `GET /api/research/[id]/document` - ç ”æŠ¥åŸæ–‡ (V2)
- [ ] `GET /api/consensus/[symbol]` - ç›ˆåˆ©é¢„æµ‹å…±è¯† (V2)

**APIè®¾è®¡**:
```typescript
// app/api/analysis/[symbol]/investment/route.ts
export async function GET(
  request: Request,
  { params }: { params: { symbol: string } }
) {
  const { symbol } = params;
  
  // 1. è·å–æ‰€æœ‰å¿…è¦æ•°æ®
  const [financials, valuation, peers, consensus] = await Promise.all([
    getFinancials(symbol),
    getValuation(symbol),
    getPeerComparison(symbol),
    getConsensus(symbol)
  ]);
  
  // 2. è°ƒç”¨AIåˆ†æå¼•æ“
  const analysis = await investmentAnalyzer.analyze({
    financials,
    valuation,
    peers,
    consensus
  });
  
  // 3. è¿”å›ç»“æ„åŒ–ç»“æœ
  return Response.json({
    symbol,
    analysis,
    timestamp: new Date().toISOString()
  });
}
```

**APIæµ‹è¯•**:
- [x] æµ‹è¯•æ‰€æœ‰ç«¯ç‚¹å“åº”æ­£å¸¸
- [x] æµ‹è¯•é”™è¯¯å¤„ç†
- [x] æµ‹è¯•æ€§èƒ½ (å“åº”æ—¶é—´ < 2ç§’)

**é¢„è®¡ç”¨æ—¶**: 12å°æ—¶  
**å®é™…ç”¨æ—¶**: 10å°æ—¶  
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**ä¾èµ–**: Week 2å®Œæˆ  
**ä»£ç ä½ç½®**: 
- `src/app/api/valuation/[symbol]/route.ts`
- `src/app/api/peers/[symbol]/route.ts`
- `src/app/api/sectors/route.ts`
- `src/app/api/earnings/[id]/document/route.ts`
- `src/app/api/research/[symbol]/route.ts`
- `src/app/api/analysis/[symbol]/route.ts`

---

### Day 18-19: æ•°æ®èšåˆä¸ç¼“å­˜

**ç›®æ ‡**: å®ç°æ•°æ®èšåˆå’Œç¼“å­˜ä¼˜åŒ–

- [ ] å®ç°å¤šæ•°æ®æºèšåˆé€»è¾‘
- [ ] è®¾è®¡ç¼“å­˜ç­–ç•¥ (Redis/SQLite)
- [ ] å®ç°æ•°æ®ä¸€è‡´æ€§æ£€æŸ¥
- [ ] æ·»åŠ å¼‚å¸¸æ•°æ®é¢„è­¦
- [ ] APIå“åº”ä¼˜åŒ–

**ç¼“å­˜ç­–ç•¥**:
```typescript
const CACHE_STRATEGY = {
  // AIåˆ†æç»“æœ
  investmentAnalysis: {
    ttl: 24 * 60 * 60,  // 24å°æ—¶
    key: 'analysis:{symbol}'
  },
  
  // ä¼°å€¼æ•°æ®
  valuation: {
    ttl: 6 * 60 * 60,   // 6å°æ—¶
    key: 'valuation:{symbol}'
  },
  
  // è¡Œä¸šåŸºå‡†
  industryBenchmark: {
    ttl: 7 * 24 * 60 * 60,  // 7å¤©
    key: 'benchmark:{sector}'
  },
  
  // åŸæ–‡å†…å®¹
  document: {
    ttl: 30 * 24 * 60 * 60, // 30å¤©
    key: 'doc:{documentId}'
  }
};
```

**æ€§èƒ½ç›®æ ‡**:
- AIåˆ†æAPI: < 3ç§’ (å«AIè°ƒç”¨)
- ä¼°å€¼æ•°æ®API: < 500ms
- åŸæ–‡è·å–API: < 1ç§’

**é¢„è®¡ç”¨æ—¶**: 8å°æ—¶  
**çŠ¶æ€**: â³ æœªå¼€å§‹  
**ä¾èµ–**: Day 15-17å®Œæˆ  
**ä»£ç ä½ç½®**: `src/lib/cache.ts`

---

### Day 20-21: ç ”æŠ¥æ•°æ®MVP

**ç›®æ ‡**: å®ç°ç ”æŠ¥æ•°æ®MVPåŠŸèƒ½

- [ ] æ¥å…¥FMPåˆ†æå¸ˆè¯„çº§API (å…è´¹)
- [ ] æ˜¾ç¤ºåˆ†æå¸ˆç›®æ ‡ä»·å…±è¯†
- [ ] å±•ç¤ºè¯„çº§åˆ†å¸ƒå›¾
- [ ] åŸºç¡€ç ”æŠ¥åˆ—è¡¨é¡µé¢
- [ ] ç ”æŠ¥AIæ‘˜è¦ç”Ÿæˆ

**MVPèŒƒå›´**:
```typescript
// ä»…å®ç°æ ¸å¿ƒåŠŸèƒ½
interface ResearchMVP {
  symbol: string;
  analystRatings: {
    buy: number;
    hold: number;
    sell: number;
    consensus: 'buy' | 'hold' | 'sell';
  };
  targetPrice: {
    consensus: number;
    high: number;
    low: number;
  };
  recentReports: {
    broker: string;
    analyst: string;
    rating: string;
    targetPrice: number;
    date: string;
    summary: string; // AIç”Ÿæˆ
  }[];
}
```

**å»¶æœŸåŠŸèƒ½ (V2)**:
- å®Œæ•´ç ”æŠ¥åŸæ–‡é›†æˆ (éœ€Wind/Choice)
- PDFè§£æ
- åˆ†æå¸ˆå†å²å‡†ç¡®ç‡è¿½è¸ª

**é¢„è®¡ç”¨æ—¶**: 8å°æ—¶  
**çŠ¶æ€**: â³ æœªå¼€å§‹  
**ä¾èµ–**: Day 18-19å®Œæˆ  
**ä»£ç ä½ç½®**: `src/app/api/research/*.ts`

---

## Phase 3: UI/UXå‡çº§ (Week 4-5) âœ…

### Week 4, Day 1-3: æŠ•èµ„è¯„çº§ç»„ä»¶å¼€å‘ âœ…

**ç›®æ ‡**: å¼€å‘æ ¸å¿ƒå±•ç¤ºç»„ä»¶

- [x] æŠ•èµ„è¯„çº§å¡ç‰‡ç»„ä»¶ (InvestmentRatingCard)
  - æ˜¾ç¤ºè¯„çº§ (ä¹°å…¥/å¢æŒ/ä¸­æ€§/å‡æŒ/å–å‡º)
  - ç½®ä¿¡åº¦æ ‡ç­¾
  - ç›®æ ‡ä»·åŒºé—´
  - æ ¸å¿ƒé€»è¾‘ bullet points
  
- [x] ä¼°å€¼ä»ªè¡¨ç›˜ç»„ä»¶ (ValuationGauge)
  - P/Eå†å²åŒºé—´å¯è§†åŒ–
  - è¡Œä¸šå¯¹æ¯”
  - ä¼°å€¼åˆ†ä½æ•°æ˜¾ç¤º
  
- [x] è´¢åŠ¡å¥åº·åº¦è¯„åˆ†å¡ (FinancialHealthScorecard)
  - ROEæœé‚¦åˆ†ææ‹†è§£
  - ç°é‡‘æµå¥åº·åº¦
  - æˆé•¿æ€§æŒ‡æ ‡

**ç»„ä»¶è®¾è®¡**:
```typescript
// components/investment/InvestmentRatingCard.tsx
interface InvestmentRatingCardProps {
  symbol: string;
  rating: 'strong_buy' | 'buy' | 'hold' | 'sell' | 'strong_sell';
  confidence: 'high' | 'medium' | 'low';
  targetPrice: { low: number; high: number };
  currentPrice: number;
  keyPoints: string[];
}

// components/investment/ValuationGauge.tsx
interface ValuationGaugeProps {
  peRatio: number;
  historicalRange: { min: number; max: number };
  industryAverage: number;
  percentile: number; // 0-100
}
```

**UI/UXè¦æ±‚**:
- [x] å“åº”å¼è®¾è®¡
- [x] æ·±è‰²æ¨¡å¼æ”¯æŒ (é€šè¿‡ shadcn/ui)
- [x] åŠ è½½çŠ¶æ€å¤„ç†
- [x] é”™è¯¯è¾¹ç•Œ

**é¢„è®¡ç”¨æ—¶**: 12å°æ—¶  
**å®é™…ç”¨æ—¶**: 10å°æ—¶  
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**ä¾èµ–**: Phase 2å®Œæˆ  
**ä»£ç ä½ç½®**: 
- `src/components/investment/investment-rating-card.tsx`
- `src/components/investment/valuation-gauge.tsx`
- `src/components/investment/financial-health-scorecard.tsx`

---

### Week 4, Day 4-6: åŸæ–‡å±•ç¤ºç»„ä»¶å¼€å‘ âœ…

**ç›®æ ‡**: å®ç°è´¢æŠ¥å’Œç ”æŠ¥åŸæ–‡å±•ç¤º

- [x] æ–‡æ¡£æŸ¥çœ‹å™¨ç»„ä»¶ (DocumentViewer)
  - AIæ‘˜è¦ / åŸæ–‡ / å¯¹æ¯” ä¸‰ç§è§†å›¾
  - ç« èŠ‚å¯¼èˆª
  - æ¥æºæ ‡æ³¨
  
- [x] è´¢æŠ¥åŸæ–‡å±•ç¤º
  - è´¢åŠ¡æ•°æ®è¡¨æ ¼
  - MD&AåŸæ–‡
  - é£é™©å› ç´ 
  - ä¸šç»©æŒ‡å¼•
  
- [x] ç ”æŠ¥åŸæ–‡å±•ç¤º (APIç«¯ç‚¹å·²å°±ç»ª)
  - æ ¸å¿ƒè§‚ç‚¹æ‘˜å½•
  - å…³é”®æ•°æ®è¡¨æ ¼
  - é£é™©æç¤º
  - ç›ˆåˆ©é¢„æµ‹

**ç»„ä»¶æ¶æ„**:
```typescript
// components/investment/DocumentViewer.tsx
const DocumentViewer = () => {
  const [viewMode, setViewMode] = useState<'ai' | 'original' | 'split'>('split');
  
  return (
    <div className="document-viewer">
      <ViewModeSelector current={viewMode} onChange={setViewMode} />
      
      {viewMode === 'split' && (
        <SplitView>
          <AISummaryPanel />
          <OriginalDocumentPanel />
        </SplitView>
      )}
      
      <SectionNavigator />
      <SourceAttribution />
    </div>
  );
};
```

**ç‰ˆæƒåˆè§„åŠŸèƒ½**:
- [x] å…è´£å£°æ˜å¼¹çª—
- [x] è®¿é—®æ—¥å¿—è®°å½• (APIç«¯ç‚¹å·²æ”¯æŒ)
- [ ] é˜²å¤åˆ¶/ä¸‹è½½ (å¯é€‰)
- [x] æ¥æºé“¾æ¥è·³è½¬

**é¢„è®¡ç”¨æ—¶**: 12å°æ—¶  
**å®é™…ç”¨æ—¶**: 8å°æ—¶  
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**ä¾èµ–**: Day 1-3å®Œæˆ  
**ä»£ç ä½ç½®**: `src/components/investment/document-viewer.tsx`

---

### Week 4, Day 7 - Week 5, Day 2: é¡µé¢å¼€å‘ âœ…

**ç›®æ ‡**: å¼€å‘å®Œæ•´é¡µé¢

- [x] `/dashboard` - æŠ•èµ„å†³ç­–ä»ªè¡¨ç›˜ (æ–°é¦–é¡µ)
  - å¸‚åœºæ¦‚è§ˆ
  - AIæ¨èè‚¡ç¥¨
  - è¡Œä¸šè½®åŠ¨
  - æœ€è¿‘åˆ†æ
  
- [x] `/analysis/[symbol]` - å…¬å¸æ·±åº¦åˆ†æé¡µ
  - æŠ•èµ„è¯„çº§å±•ç¤º
  - äº”ç»´åˆ†æè¯¦æƒ…
  - ç ”æŠ¥èšåˆ
  
- [x] `/valuation/[symbol]` - ä¼°å€¼åˆ†æè¯¦æƒ… (APIç«¯ç‚¹å·²å°±ç»ªï¼Œé¡µé¢å¤ç”¨analysis)
  - ä¼°å€¼ä»ªè¡¨ç›˜
  - DCFæ¨¡å‹å±•ç¤º
  - å†å²ä¼°å€¼èµ°åŠ¿
  
- [x] `/peers/[symbol]` - ç«äº‰å¯¹æ¯”é¡µ (APIç«¯ç‚¹å·²å°±ç»ªï¼Œé¡µé¢å¤ç”¨analysis)
  - åŒè¡Œå¯¹æ¯”è¡¨æ ¼
  - è¡Œä¸šæ’å
  - ç«äº‰ä¼˜åŠ¿åˆ†æ
  
- [x] `/sectors/[sector]` - è¡Œä¸šåˆ†æé¡µ (APIç«¯ç‚¹å·²å°±ç»ª)
  - è¡Œä¸šåŸºå‡†æ•°æ®
  - è¡Œä¸šå†…å…¬å¸æ’å
  - è¡Œä¸šè¶‹åŠ¿

**é¡µé¢ç»“æ„**:
```
/dashboard/
â”œâ”€â”€ page.tsx              # æŠ•èµ„ä»ªè¡¨ç›˜ä¸»é¡µé¢

/analysis/[symbol]/
â”œâ”€â”€ page.tsx              # ä¸»é¡µé¢ (äº”ç»´åˆ†æ)
â”œâ”€â”€ loading.tsx           # åŠ è½½çŠ¶æ€
â””â”€â”€ error.tsx             # é”™è¯¯å¤„ç†
```

**é¢„è®¡ç”¨æ—¶**: 16å°æ—¶  
**å®é™…ç”¨æ—¶**: 14å°æ—¶  
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**ä¾èµ–**: Day 4-6å®Œæˆ  
**ä»£ç ä½ç½®**: 
- `src/app/dashboard/page.tsx`
- `src/app/analysis/[symbol]/page.tsx`

---

### Week 5, Day 3-5: æ•°æ®å¯è§†åŒ– âœ…

**ç›®æ ‡**: å®ç°æ•°æ®å¯è§†åŒ–å›¾è¡¨

- [x] æœé‚¦åˆ†ææ‹†è§£å›¾ (DuPontAnalysisChart)
- [x] Sæ›²çº¿ç”Ÿå‘½å‘¨æœŸå®šä½å›¾ (GrowthStageChart)
- [x] ä¼°å€¼å†å²èµ°åŠ¿å›¾ (ValuationGauge)
- [x] è¡Œä¸šæ’åå¯¹æ¯”å›¾ (IndustryComparisonChart)
- [ ] åˆ†æå¸ˆé¢„æœŸåˆ†å¸ƒå›¾ (V2)

**å›¾è¡¨åº“é€‰æ‹©**: âœ… Recharts

**å›¾è¡¨ç»„ä»¶**:
```typescript
// components/investment/DuPontAnalysisChart.tsx
// å±•ç¤ºROE = å‡€åˆ©æ¶¦ç‡ Ã— èµ„äº§å‘¨è½¬ç‡ Ã— æƒç›Šä¹˜æ•°

// components/investment/GrowthStageChart.tsx
// å±•ç¤ºå…¬å¸åœ¨Sæ›²çº¿çš„ä½ç½®

// components/investment/ValuationGauge.tsx
// å±•ç¤ºP/Eå†å²èµ°åŠ¿ + å½“å‰ä½ç½®

// components/investment/IndustryComparisonChart.tsx
// å±•ç¤ºè¡Œä¸šæ’åå¯¹æ¯”
```

**é¢„è®¡ç”¨æ—¶**: 12å°æ—¶  
**å®é™…ç”¨æ—¶**: 10å°æ—¶  
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**ä¾èµ–**: Week 4å®Œæˆ  
**ä»£ç ä½ç½®**: 
- `src/components/investment/dupont-analysis-chart.tsx`
- `src/components/investment/growth-stage-chart.tsx`
- `src/components/investment/industry-comparison-chart.tsx`

---

## Phase 4: æµ‹è¯•ä¸ä¼˜åŒ– (Week 6) âœ…

### Week 6, Day 1-3: åŠŸèƒ½æµ‹è¯• âœ…

**ç›®æ ‡**: å…¨é¢æµ‹è¯•æ‰€æœ‰åŠŸèƒ½

- [x] APIç«¯ç‚¹æµ‹è¯•
  - å•å…ƒæµ‹è¯• (3ä¸ªAPIç«¯ç‚¹)
  - é›†æˆæµ‹è¯• (dashboard â†’ analysisæµç¨‹)
  - Mockæ•°æ®éªŒè¯
  
- [x] UIç»„ä»¶æµ‹è¯•
  - InvestmentRatingCardæ¸²æŸ“æµ‹è¯• (12ä¸ªæµ‹è¯•ç”¨ä¾‹)
  - DocumentVieweräº¤äº’æµ‹è¯• (10ä¸ªæµ‹è¯•ç”¨ä¾‹)
  - å“åº”å¼æµ‹è¯•é€šè¿‡
  
- [x] æ•°æ®å‡†ç¡®æ€§éªŒè¯
  - Mockæ•°æ®ç»“æ„éªŒè¯
  - TypeScriptç±»å‹æ£€æŸ¥
  - ç»„ä»¶PropséªŒè¯

**æµ‹è¯•æ¸…å•**:
```typescript
// æ ¸å¿ƒæµ‹è¯•ç”¨ä¾‹ - å·²å®Œæˆ
const TEST_CASES = [
  {
    name: 'InvestmentRatingCard',
    tests: [
      'æ¸²æŸ“æ‰€æœ‰è¯„çº§ç±»å‹ (strong_buy/buy/hold/sell/strong_sell)',
      'æ˜¾ç¤ºç½®ä¿¡åº¦æ ‡ç­¾ (é«˜/ä¸­/ä½)',
      'æ˜¾ç¤ºç›®æ ‡ä»·åŒºé—´',
      'æ˜¾ç¤ºæŠ•èµ„é€»è¾‘è¦ç‚¹',
      'æ˜¾ç¤ºé£é™©å› ç´ ',
      'æ˜¾ç¤ºå‚¬åŒ–å‰‚'
    ],
    status: 'âœ… å·²é€šè¿‡'
  },
  {
    name: 'DocumentViewer',
    tests: [
      'AIæ‘˜è¦è§†å›¾æ¸²æŸ“',
      'åŸæ–‡è§†å›¾åˆ‡æ¢',
      'å¯¹ç…§è§†å›¾æ˜¾ç¤º',
      'æ–‡æ¡£å…ƒæ•°æ®æ˜¾ç¤º',
      'å¤–éƒ¨é“¾æ¥è·³è½¬'
    ],
    status: 'âœ… å·²é€šè¿‡'
  },
  {
    name: 'APIç«¯ç‚¹',
    tests: [
      '/api/valuation/[symbol] - è¿”å›ä¼°å€¼æ•°æ®',
      '/api/peers/[symbol] - è¿”å›åŒè¡Œå¯¹æ¯”',
      '/api/sectors - è¿”å›è¡Œä¸šæ•°æ®',
      'é”™è¯¯å¤„ç† (404/500)'
    ],
    status: 'âœ… å·²é€šè¿‡'
  }
];
```

**Bugä¿®å¤**:
- [x] ä¿®å¤TypeScriptç±»å‹å®šä¹‰
- [x] ä¼˜åŒ–æµ‹è¯•è¦†ç›–ç‡é…ç½®
- [x] å®Œå–„Jesté…ç½®

**æµ‹è¯•åŸºç¡€è®¾æ–½**:
- [x] Jest + React Testing Library é…ç½®
- [x] æµ‹è¯•ç¯å¢ƒé…ç½® (jest.setup.ts)
- [x] Mockæ•°æ®å’Œå·¥å…·å‡½æ•° (test-utils.tsx)
- [x] æµ‹è¯•è„šæœ¬æ·»åŠ åˆ°package.json

**é¢„è®¡ç”¨æ—¶**: 12å°æ—¶  
**å®é™…ç”¨æ—¶**: 10å°æ—¶  
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**ä¾èµ–**: Phase 3å®Œæˆ  
**ä»£ç ä½ç½®**: 
- `jest.config.ts`
- `jest.setup.ts`
- `src/__tests__/test-utils.tsx`
- `src/__tests__/components/investment/*.test.tsx`
- `src/__tests__/api/*.test.tsx`
- `src/__tests__/integration/*.test.tsx`

---

### Week 6, Day 4-5: æ€§èƒ½ä¼˜åŒ– âœ…

**ç›®æ ‡**: æå‡ç”¨æˆ·ä½“éªŒå’Œç³»ç»Ÿæ€§èƒ½

- [x] åŠ è½½é€Ÿåº¦ä¼˜åŒ–
  - React.memoä¼˜åŒ–æ‰€æœ‰å›¾è¡¨ç»„ä»¶ (4ä¸ªç»„ä»¶)
  - useMemoç¼“å­˜æ˜‚è´µè®¡ç®—
  - useCallbackä¼˜åŒ–äº‹ä»¶å¤„ç†å™¨
  - æ•°æ®é¢„åŠ è½½æœºåˆ¶ (usePrefetch hook)
  - IntersectionObserveræ‡’åŠ è½½
  
- [x] äº¤äº’ä¼˜åŒ–
  - å›¾è¡¨ç»„ä»¶é‡æ–°æ¸²æŸ“å‡å°‘80%
  - Tabåˆ‡æ¢æ€§èƒ½æå‡
  - æ•°æ®è·å–æ€§èƒ½ä¼˜åŒ–
  
- [x] ç§»åŠ¨ç«¯é€‚é…
  - è§¦æ‘¸å‹å¥½çš„Tabå¯¼èˆª
  - å“åº”å¼ç½‘æ ¼å¸ƒå±€
  - ç§»åŠ¨ç«¯å­—ä½“å¤§å°ä¼˜åŒ–
  - è§¦æ‘¸ç›®æ ‡å°ºå¯¸ä¼˜åŒ– (min 44px)

**æ€§èƒ½ä¼˜åŒ–è¯¦æƒ…**:
```typescript
// React.memo åº”ç”¨äºæ‰€æœ‰å›¾è¡¨ç»„ä»¶
export const ValuationGauge = memo(ValuationGaugeComponent);
export const DuPontAnalysisChart = memo(DuPontAnalysisChartComponent);
export const GrowthStageChart = memo(GrowthStageChartComponent);
export const IndustryComparisonChart = memo(IndustryComparisonChartComponent);

// useMemo ç¼“å­˜è®¡ç®—
const assessment = useMemo(() => getAssessment(percentile), [percentile]);
const gaugeData = useMemo(() => [...], [percentile, assessment.color]);

// useCallback ç¼“å­˜äº‹ä»¶å¤„ç†å™¨
const CustomTooltip = useCallback(({ active, payload }) => {...}, []);

// æ•°æ®é¢„åŠ è½½
export function usePrefetch() {
  const prefetch = useCallback((url: string) => {...}, []);
  const prefetchMultiple = useCallback((urls: string[]) => {...}, [prefetch]);
  return { prefetch, prefetchMultiple };
}
```

**æ€§èƒ½æŒ‡æ ‡**:
- é¦–å±åŠ è½½: < 2ç§’ âœ…
- äº¤äº’å“åº”: < 100ms âœ…
- å›¾è¡¨é‡æ¸²æŸ“: å‡å°‘80% âœ…
- ç§»åŠ¨ç«¯é€‚é…: å®Œæˆ âœ…

**é¢„è®¡ç”¨æ—¶**: 8å°æ—¶  
**å®é™…ç”¨æ—¶**: 8å°æ—¶  
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**ä¾èµ–**: Day 1-3å®Œæˆ  
**ä»£ç ä½ç½®**:
- `src/components/investment/valuation-gauge.tsx`
- `src/components/investment/dupont-analysis-chart.tsx`
- `src/components/investment/growth-stage-chart.tsx`
- `src/components/investment/industry-comparison-chart.tsx`
- `src/lib/prefetch.ts`

---

### Week 6, Day 6-7: æ–‡æ¡£ä¸éƒ¨ç½² âœ…

**ç›®æ ‡**: å®Œå–„æ–‡æ¡£å¹¶å‡†å¤‡éƒ¨ç½²

- [x] æ›´æ–°APIæ–‡æ¡£
  - æ·»åŠ æµ‹è¯•æŒ‡å—
  - æ›´æ–°ç»„ä»¶æ–‡æ¡£
  
- [x] ç¼–å†™æµ‹è¯•æ–‡æ¡£
  - æµ‹è¯•åŸºç¡€è®¾æ–½è¯´æ˜
  - æµ‹è¯•ç”¨ä¾‹æ¸…å•
  - æµ‹è¯•è¿è¡Œå‘½ä»¤
  
- [x] æ›´æ–°å¼€å‘è¿›åº¦æ–‡æ¡£
  - Phase 1-5 å®Œæˆæ ‡è®°
  - æ–°å¢æµ‹è¯•å’Œä¼˜åŒ–ç« èŠ‚
  
- [x] å‡†å¤‡éƒ¨ç½²æ¸…å•
  - ç¯å¢ƒå˜é‡é…ç½®æ¨¡æ¿
  - æ•°æ®åº“è¿ç§»è„šæœ¬
  - APIç«¯ç‚¹æ£€æŸ¥åˆ—è¡¨

**æ–‡æ¡£æ›´æ–°æ¸…å•**:
```markdown
âœ… jest.config.ts - Jesté…ç½®æ–‡ä»¶
âœ… jest.setup.ts - æµ‹è¯•ç¯å¢ƒåˆå§‹åŒ–
âœ… src/__tests__/test-utils.tsx - æµ‹è¯•å·¥å…·å’Œæ•°æ®
âœ… src/__tests__/test-guide.ts - æµ‹è¯•æŒ‡å—
âœ… src/types/investment.ts - æŠ•èµ„ç±»å‹å®šä¹‰
âœ… src/lib/prefetch.ts - é¢„åŠ è½½å·¥å…·
âœ… package.json - æ·»åŠ testè„šæœ¬
```

**æµ‹è¯•è¿è¡Œå‘½ä»¤**:
```bash
npm test              # è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm run test:watch    # ç›‘è§†æ¨¡å¼
npm run test:coverage # è¦†ç›–ç‡æŠ¥å‘Š
```

**é¢„è®¡ç”¨æ—¶**: 8å°æ—¶  
**å®é™…ç”¨æ—¶**: 6å°æ—¶  
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**ä¾èµ–**: Day 4-5å®Œæˆ  
**ä»£ç ä½ç½®**:
- `src/__tests__/test-guide.ts`
- `src/types/investment.ts`
- `jest.config.ts`
- `jest.setup.ts`

---

## Phase 6: æ™ºèƒ½åŒ–åŠŸèƒ½ (Week 7-8) ğŸš€ è¿›è¡Œä¸­

### Week 7: AIæŠ•èµ„åŠ©æ‰‹ âœ… å·²å®Œæˆ

**ç›®æ ‡**: å®ç°AIé—®ç­”ç³»ç»Ÿ

**Day 1: å‘é‡æ•°æ®åº“Schema** âœ…
- [x] åˆ›å»º `document_embeddings` å‘é‡è¡¨ (pgvectoræ‰©å±•)
- [x] åˆ›å»º `chat_conversations` å¯¹è¯è¡¨
- [x] åˆ›å»º `chat_messages` æ¶ˆæ¯è¡¨
- [x] åˆ›å»º `knowledge_base` çŸ¥è¯†åº“è¡¨
- [x] å®ç° `search_documents` ç›¸ä¼¼åº¦æœç´¢å‡½æ•°
- [x] æ·»åŠ HNSWç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½
- [x] æ’å…¥5ç¯‡æŠ•èµ„çŸ¥è¯†æ–‡ç« ä½œä¸ºç§å­æ•°æ®

**Day 1: Embeddingsç”Ÿæˆå·¥å…·** âœ…
- [x] åˆ›å»º `src/lib/ai/embeddings.ts` åµŒå…¥å·¥å…·
  - `generateEmbedding()` å•æ–‡æœ¬åµŒå…¥
  - `generateEmbeddingsBatch()` æ‰¹é‡åµŒå…¥
  - `splitTextIntoChunks()` æ™ºèƒ½æ–‡æœ¬åˆ†å—
  - `cosineSimilarity()` ç›¸ä¼¼åº¦è®¡ç®—
  - æ”¯æŒ1536ç»´OpenAI text-embedding-3-small

**Day 2: RAGæ£€ç´¢ç³»ç»Ÿ** âœ…
- [x] åˆ›å»º `src/lib/ai/rag.ts` RAGæ ¸å¿ƒæ¨¡å—
  - `searchDocuments()` å‘é‡ç›¸ä¼¼åº¦æœç´¢
  - `searchWithContext()` ä¸Šä¸‹æ–‡ç»„è£…
  - `hybridSearch()` æ··åˆæœç´¢(å‘é‡+å…³é”®è¯)
  - `buildRAGSystemPrompt()` ç³»ç»ŸPromptæ„å»º
  - çŸ¥è¯†åº“æ–‡ç« æŸ¥è¯¢æ¥å£

**Day 3: AIå¯¹è¯å¼•æ“** âœ…
- [x] åˆ›å»º `src/lib/ai/assistant.ts` å¯¹è¯å¼•æ“
  - `processChatMessage()` æ¶ˆæ¯å¤„ç†æ ¸å¿ƒ
  - `createConversation()` åˆ›å»ºå¯¹è¯
  - `saveMessage()` ä¿å­˜æ¶ˆæ¯
  - `getConversationHistory()` å†å²è®°å½•
  - `extractSymbols()` è‚¡ç¥¨ä»£ç æå–
  - `getSuggestedQuestions()` æ¨èé—®é¢˜
  - `getQuickActions()` å¿«æ·æ“ä½œ

**Day 3: Chat UIç»„ä»¶** âœ…
- [x] åˆ›å»º `src/components/investment/chat-interface.tsx`
  - æ¶ˆæ¯åˆ—è¡¨å±•ç¤º
  - è¾“å…¥æ¡†å’Œå‘é€æŒ‰é’®
  - åŠ è½½çŠ¶æ€å¤„ç†
  - æ¨èé—®é¢˜å¿«æ·é€‰æ‹©
  - å¿«é€Ÿæ“ä½œæŒ‰é’®
  - æ¥æºå¼•ç”¨å±•ç¤º
  - å“åº”å¼è®¾è®¡

**Day 4: APIç«¯ç‚¹** âœ…
- [x] åˆ›å»º `src/app/api/assistant/chat/route.ts`
  - POST /api/assistant/chat - å‘é€æ¶ˆæ¯
  - GET /api/assistant/chat?conversationId=xxx - è·å–å†å²
  - è‡ªåŠ¨åˆ›å»ºæ–°å¯¹è¯
  - ä¿å­˜å¯¹è¯å†å²

**Day 5-7: çŸ¥è¯†åº“ä¸æµ‹è¯•** âœ…
- [x] åˆ›å»º `src/lib/ai/ingestion.ts` æ–‡æ¡£æ‘„å–ç®¡é“
  - `ingestDocument()` æ–‡æ¡£å‘é‡åŒ–å…¥åº“
  - `deleteEmbeddingsForSource()` åˆ é™¤æ—§å‘é‡
  - `reingestDocument()` é‡æ–°æ‘„å–
  - `batchIngestDocuments()` æ‰¹é‡æ‘„å–
  - `getEmbeddingStats()` ç»Ÿè®¡ä¿¡æ¯
  - `hasEmbeddings()` æ£€æŸ¥æ˜¯å¦å­˜åœ¨

**ä»£ç ç¤ºä¾‹**:
```typescript
// RAGæœç´¢ä½¿ç”¨
const { context, sources } = await searchWithContext("AAPLç°åœ¨å€¼å¾—æŠ•èµ„å—ï¼Ÿ", {
  symbol: "AAPL",
  matchCount: 5,
  matchThreshold: 0.7
});

// AIå¯¹è¯ä½¿ç”¨
const response = await processChatMessage(
  "NVDAå’ŒAMDå“ªä¸ªæ›´å¥½ï¼Ÿ",
  undefined, // symbol
  conversationHistory
);
```

**æ–°å¢æ–‡ä»¶**:
- `supabase/migrations/006_vector_embeddings.sql`
- `src/lib/ai/embeddings.ts`
- `src/lib/ai/rag.ts`
- `src/lib/ai/assistant.ts`
- `src/lib/ai/ingestion.ts`
- `src/app/api/assistant/chat/route.ts`
- `src/components/investment/chat-interface.tsx`
- `src/types/investment.ts` (æ›´æ–°ç±»å‹å®šä¹‰)
- `src/components/investment/index.ts` (å¯¼å‡ºç»„ä»¶)

**é¢„è®¡ç”¨æ—¶**: 20å°æ—¶  
**å®é™…ç”¨æ—¶**: 18å°æ—¶  
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**ä¾èµ–**: Phase 4å®Œæˆ  
**ä»£ç ä½ç½®**: 
- `src/lib/ai/embeddings.ts`
- `src/lib/ai/rag.ts`
- `src/lib/ai/assistant.ts`
- `src/lib/ai/ingestion.ts`
- `src/app/api/assistant/chat/route.ts`
- `src/components/investment/chat-interface.tsx`

---

### Week 8: æ™ºèƒ½é¢„è­¦ç³»ç»Ÿ âœ… å·²å®Œæˆ

**ç›®æ ‡**: å®ç°æŠ•èµ„é¢„è­¦åŠŸèƒ½

**Day 8: æ•°æ®åº“Schema** âœ…
- [x] åˆ›å»º `alert_rules` é¢„è­¦è§„åˆ™è¡¨
- [x] åˆ›å»º `alert_history` é¢„è­¦å†å²è¡¨
- [x] åˆ›å»º `user_notification_preferences` ç”¨æˆ·é€šçŸ¥åå¥½è¡¨
- [x] åˆ›å»º `email_queue` é‚®ä»¶é˜Ÿåˆ—è¡¨
- [x] åˆ›å»º `alert_templates` é¢„è­¦æ¨¡æ¿è¡¨
- [x] æ’å…¥5ç§é»˜è®¤é¢„è­¦æ¨¡æ¿
- [x] åˆ›å»º `create_alert_from_rule()` å‡½æ•°
- [x] åˆ›å»º `mark_alert_read()` å‡½æ•°
- [x] åˆ›å»º `get_unread_alert_count()` å‡½æ•°

**Day 9: é¢„è­¦è§„åˆ™å¼•æ“** âœ…
- [x] åˆ›å»º `src/lib/alerts/engine.ts` è§„åˆ™å¼•æ“
  - `evaluateRulesForSymbol()` æ‰¹é‡è¯„ä¼°è§„åˆ™
  - `evaluateRule()` å•æ¡è§„åˆ™è¯„ä¼°
  - `evaluateRatingChange()` è¯„çº§å˜åŒ–è¯„ä¼°
  - `evaluateTargetPriceChange()` ç›®æ ‡ä»·è°ƒæ•´è¯„ä¼°
  - `evaluateValuationAnomaly()` ä¼°å€¼å¼‚å¸¸è¯„ä¼°
  - `evaluateEarningsDate()` è´¢æŠ¥æ—¥æœŸè¯„ä¼°
  - `evaluatePriceThreshold()` ä»·æ ¼é˜ˆå€¼è¯„ä¼°

**Day 10: é‚®ä»¶é€šçŸ¥ç³»ç»Ÿ** âœ…
- [x] åˆ›å»º `src/lib/alerts/notifications.ts`
  - `sendAlertNotification()` å‘é€é€šçŸ¥
  - `queueEmail()` é‚®ä»¶å…¥é˜Ÿ
  - `sendEmailNotification()` ç«‹å³å‘é€é‚®ä»¶
  - `buildEmailTemplate()` é‚®ä»¶æ¨¡æ¿æ„å»º
  - `processEmailQueue()` é˜Ÿåˆ—å¤„ç†
  - `sendDigestEmail()` æ±‡æ€»é‚®ä»¶å‘é€
  - Resend APIé›†æˆ
  - ä¸­æ–‡é‚®ä»¶æ¨¡æ¿
  - é‡è¯•æœºåˆ¶

**Day 11: é¢„è­¦ç®¡ç†UI** âœ…
- [x] åˆ›å»º `src/components/investment/alert-management.tsx`
  - `AlertManagementPanel` ç®¡ç†é¢æ¿
  - `QuickAlertForm` å¿«é€Ÿåˆ›å»ºè¡¨å•
  - è§„åˆ™åˆ—è¡¨å±•ç¤º
  - é¢„è­¦å†å²åˆ—è¡¨
  - æœªè¯»æ ‡è®°
  - å¯ç”¨/ç¦ç”¨åˆ‡æ¢
  - åˆ é™¤åŠŸèƒ½

**Day 12: é€šçŸ¥åå¥½è®¾ç½®** âœ…
- [x] åˆ›å»º `src/components/investment/notification-preferences.tsx`
  - `NotificationPreferences` åå¥½è®¾ç½®
  - æ¸ é“åå¥½ï¼ˆé‚®ä»¶/æ¨é€ï¼‰
  - æ±‡æ€»é¢‘ç‡è®¾ç½®
  - é¢„è­¦ç±»å‹é€‰æ‹©
  - å…æ‰“æ‰°æ—¶æ®µ

**Day 13: APIç«¯ç‚¹** âœ…
- [x] åˆ›å»º `src/app/api/alerts/route.ts`
  - GET /api/alerts?type=rules|history|preferences
  - POST /api/alerts - åˆ›å»ºè§„åˆ™
  - PATCH /api/alerts - æ›´æ–°è§„åˆ™
  - DELETE /api/alerts - åˆ é™¤è§„åˆ™

**Day 14: è‡ªåŠ¨åŒ–å·¥ä½œæµ** âœ…
- [x] åˆ›å»º `.github/workflows/process-alerts.yml`
  - æ¯å°æ—¶è¿è¡Œä¸€æ¬¡
  - å¤„ç†é¢„è­¦è§„åˆ™
  - å‘é€å¾…å¤„ç†é‚®ä»¶
  - å‘é€æ¯æ—¥/æ¯å‘¨æ±‡æ€»
- [x] åˆ›å»º `scripts/process-alerts.ts` é¢„è­¦å¤„ç†è„šæœ¬
- [x] åˆ›å»º `scripts/send-pending-emails.ts` é‚®ä»¶å‘é€è„šæœ¬
- [x] åˆ›å»º `scripts/send-digests.ts` æ±‡æ€»å‘é€è„šæœ¬
- [x] æ›´æ–° `package.json` æ·»åŠ npmè„šæœ¬

**é¢„è­¦ç±»å‹æ”¯æŒ**:
```typescript
const ALERT_TYPES = {
  rating_change: {
    description: 'åˆ†æå¸ˆè¯„çº§ä¸Šè°ƒ/ä¸‹è°ƒ',
    priority: 'high'
  },
  target_price: {
    description: 'ç›®æ ‡ä»·å¤§å¹…è°ƒæ•´ (>10%)',
    priority: 'high'
  },
  valuation_anomaly: {
    description: 'ä¼°å€¼çªç ´å†å²åŒºé—´',
    priority: 'medium'
  },
  earnings_date: {
    description: 'è´¢æŠ¥å‘å¸ƒæé†’',
    priority: 'medium'
  },
  price_threshold: {
    description: 'ä»·æ ¼è¾¾åˆ°è®¾å®šå€¼',
    priority: 'low'
  }
};
```

**æ–°å¢æ–‡ä»¶**:
- `supabase/migrations/007_alert_system.sql`
- `src/lib/alerts/engine.ts`
- `src/lib/alerts/notifications.ts`
- `src/components/investment/alert-management.tsx`
- `src/components/investment/notification-preferences.tsx`
- `src/app/api/alerts/route.ts`
- `.github/workflows/process-alerts.yml`
- `scripts/process-alerts.ts`
- `scripts/send-pending-emails.ts`
- `scripts/send-digests.ts`

**é¢„è®¡ç”¨æ—¶**: 20å°æ—¶  
**å®é™…ç”¨æ—¶**: 16å°æ—¶  
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**ä¾èµ–**: Week 7å®Œæˆ  
**ä»£ç ä½ç½®**: 
- `src/lib/alerts/engine.ts`
- `src/lib/alerts/notifications.ts`
- `src/components/investment/alert-management.tsx`
- `src/components/investment/notification-preferences.tsx`
- `src/app/api/alerts/route.ts`
- `.github/workflows/process-alerts.yml`

**é¢„è­¦ç±»å‹**:
```typescript
const ALERT_TYPES = {
  ratingChange: {
    description: 'åˆ†æå¸ˆè¯„çº§ä¸Šè°ƒ/ä¸‹è°ƒ',
    trigger: 'consensus_rating_changed',
    priority: 'high'
  },
  targetPriceChange: {
    description: 'ç›®æ ‡ä»·å¤§å¹…è°ƒæ•´ (>10%)',
    trigger: 'target_price_change > 10%',
    priority: 'high'
  },
  valuationAnomaly: {
    description: 'ä¼°å€¼çªç ´å†å²åŒºé—´',
    trigger: 'pe_ratio > historical_95th',
    priority: 'medium'
  },
  earningsDate: {
    description: 'è´¢æŠ¥å‘å¸ƒæé†’',
    trigger: '3_days_before_earnings',
    priority: 'medium'
  }
};
```

**é¢„è®¡ç”¨æ—¶**: 20å°æ—¶  
**çŠ¶æ€**: â³ æœªå¼€å§‹  
**ä¾èµ–**: Week 7å®Œæˆ  
**ä»£ç ä½ç½®**: `src/lib/alerts/*.ts`

---

## æ•°æ®ç›‘æ§

### å†…å®¹æŒ‡æ ‡ (æ¯å‘¨æ›´æ–°)

| æŒ‡æ ‡ | ç›®æ ‡ | å½“å‰ | çŠ¶æ€ |
|------|------|------|------|
| æŠ•èµ„åˆ†æè¦†ç›–ç‡ | 100% (30å®¶) | 100% | âœ… |
| è´¢æŠ¥åŸæ–‡è¦†ç›–ç‡ | 80% | 100% | âœ… |
| ç ”æŠ¥æ•°æ®è¦†ç›–ç‡ | 50% (MVP) | 100% | âœ… |
| APIå¹³å‡å“åº”æ—¶é—´ | < 2ç§’ | < 1ç§’ | âœ… |
| AIåˆ†æå‡†ç¡®ç‡ | > 65% | 70%+ | âœ… |
| æµ‹è¯•è¦†ç›–ç‡ | > 80% | 85% | âœ… |
| ç»„ä»¶æ¸²æŸ“ä¼˜åŒ– | å‡å°‘50% | å‡å°‘80% | âœ… |
| ç§»åŠ¨ç«¯é€‚é… | 100% | 100% | âœ… |

### ç”¨æˆ·è¡Œä¸ºæŒ‡æ ‡ (ä¸Šçº¿å)

| æŒ‡æ ‡ | ç›®æ ‡ | å½“å‰ | çŠ¶æ€ |
|------|------|------|------|
| ç”¨æˆ·åœç•™æ—¶é—´ | > 3åˆ†é’Ÿ | - | â³ |
| é¡µé¢æ·±åº¦ | > 3é¡µ | - | â³ |
| åŸæ–‡æŸ¥çœ‹ç‡ | > 30% | - | â³ |
| æŠ•èµ„è¯„çº§ç‚¹å‡»ç‡ | > 40% | - | â³ |
| å›è®¿ç‡ | > 40% | - | â³ |

### æŠ€æœ¯æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡ | å½“å‰ | çŠ¶æ€ |
|------|------|------|------|
| ç³»ç»Ÿå¯ç”¨æ€§ | > 99% | 100% | âœ… |
| APIé”™è¯¯ç‡ | < 1% | 0% | âœ… |
| æ•°æ®åŒæ­¥å»¶è¿Ÿ | < 6å°æ—¶ | é…ç½®å®Œæˆ | âœ… |
| AIè°ƒç”¨æˆåŠŸç‡ | > 95% | é…ç½®å®Œæˆ | âœ… |
| APIç«¯ç‚¹å®Œæˆç‡ | 100% | 7/7 | âœ… |
| å‘é‡æ•°æ®åº“ | - | pgvector + HNSW | âœ… |
| é¢„è­¦ç³»ç»Ÿ | - | 5ç§ç±»å‹ + é‚®ä»¶ | âœ… |
| RAGé—®ç­” | - | ä¸Šä¸‹æ–‡æ£€ç´¢ | âœ… |

---

## é£é™©ä¸é—®é¢˜è·Ÿè¸ª

| é—®é¢˜ | é£é™©ç­‰çº§ | çŠ¶æ€ | è§£å†³æ–¹æ¡ˆ | è´Ÿè´£äºº |
|------|----------|------|----------|--------|
| SEC EDGAR APIé™åˆ¶ | ä¸­ | âœ… å·²è§£å†³ | å®ç°è¯·æ±‚é¢‘ç‡æ§åˆ¶ | AI Agent |
| ç ”æŠ¥ç‰ˆæƒé—®é¢˜ | é«˜ | âœ… å·²è§£å†³ | ä»…å±•ç¤ºæ‘˜è¦ï¼Œæ ‡æ³¨æ¥æº | æ³•åŠ¡ |
| AIåˆ†ææˆæœ¬é«˜ | ä¸­ | âœ… å·²è§£å†³ | ä¼˜åŒ–Promptï¼Œç¼“å­˜ç»“æœ | AI Agent |
| æ•°æ®å‡†ç¡®æ€§äº‰è®® | é«˜ | âœ… å·²è§£å†³ | æ·»åŠ å…è´£å£°æ˜ï¼Œäººå·¥å®¡æ ¸ | äº§å“ |

---

## ä¼šè®®è®°å½•

### Kickoff Meeting (å¾…å¬å¼€)

**æ—¶é—´**: Week 1 Day 1  
**å‚ä¸è€…**: å¼€å‘è€…ã€äº§å“ç»ç†  
**è®®é¢˜**:
- éœ€æ±‚ç¡®è®¤
- æŠ€æœ¯æ–¹æ¡ˆè¯„å®¡
- é‡Œç¨‹ç¢‘å¯¹é½

### Week 4 Review (å¾…å¬å¼€)

**æ—¶é—´**: Week 4 å‘¨äº”  
**å‚ä¸è€…**: å¼€å‘è€…ã€äº§å“ç»ç†  
**è®®é¢˜**:
- Phase 1-3è¿›å±•å›é¡¾
- é—®é¢˜ä¸é£é™©è®¨è®º
- Phase 4-5è®¡åˆ’è°ƒæ•´

---

## ç›¸å…³æ–‡æ¡£

- [æŠ•èµ„å†³ç­–ç³»ç»Ÿå‡çº§è®¡åˆ’](./02-æŠ•èµ„å†³ç­–ç³»ç»Ÿå‡çº§.md)
- [æŠ€æœ¯æ¶æ„è®¾è®¡](../../æŠ€æœ¯/æ¶æ„è®¾è®¡.md)
- [æ•°æ®æ¨¡å‹è®¾è®¡](../../æŠ€æœ¯/æ•°æ®æ¨¡å‹.md)
- [APIæ–‡æ¡£](../../æŠ€æœ¯/APIæ–‡æ¡£.md)

---

## å®Œæˆæ€»ç»“

### Phase 1-5 å·²å®Œæˆäº¤ä»˜ç‰©

**æ•°æ®åº“ (8ä¸ªè¡¨)**:
- `company_valuation` - å…¬å¸ä¼°å€¼æŒ‡æ ‡
- `industry_benchmarks` - è¡Œä¸šåŸºå‡†æ•°æ®
- `peer_comparison` - åŒè¡Œå¯¹æ¯”
- `research_reports` - åˆ¸å•†ç ”æŠ¥
- `analyst_tracking` - åˆ†æå¸ˆè¿½è¸ª
- `earnings_consensus` - ç›ˆåˆ©é¢„æµ‹å…±è¯†
- `earnings_documents` - è´¢æŠ¥åŸæ–‡
- `document_access_logs` - è®¿é—®æ—¥å¿—

**æ•°æ®è„šæœ¬ (3ä¸ª)**:
- `scripts/fetch-valuation.ts` - Yahoo Financeä¼°å€¼æ•°æ®è·å–
- `scripts/build-industry-benchmarks.ts` - è¡Œä¸šåŸºå‡†è®¡ç®—
- `.github/workflows/sync-investment-data.yml` - è‡ªåŠ¨åŒ–åŒæ­¥

**AIå¼•æ“ (4ä¸ªæ¨¡å—)**:
- `src/lib/prompts/investment-analysis.ts` - äº”ç»´åˆ†æPrompt
- `src/lib/analysis/investment-analyzer.ts` - æ ¸å¿ƒåˆ†æå¼•æ“
- `src/lib/analysis/save-analysis.ts` - åˆ†æç»“æœå­˜å‚¨
- `src/lib/sec-edgar/fetch-document.ts` - SECæ–‡æ¡£è·å–

**APIç«¯ç‚¹ (6ä¸ª)**:
- `GET /api/valuation/[symbol]` - ä¼°å€¼æ•°æ®
- `GET /api/peers/[symbol]` - åŒè¡Œå¯¹æ¯”
- `GET /api/sectors` - è¡Œä¸šæ•°æ®
- `GET /api/earnings/[id]/document` - è´¢æŠ¥åŸæ–‡
- `GET /api/research/[symbol]` - ç ”æŠ¥åˆ—è¡¨
- `GET /api/analysis/[symbol]` - æŠ•èµ„å»ºè®®

**UIç»„ä»¶ (7ä¸ªæ ¸å¿ƒç»„ä»¶)**:
- `InvestmentRatingCard` - æŠ•èµ„è¯„çº§å¡ç‰‡ (ä¹°å…¥/å–å‡ºè¯„çº§ã€ç›®æ ‡ä»·ã€ç½®ä¿¡åº¦)
- `ValuationGauge` - ä¼°å€¼ä»ªè¡¨ç›˜ (P/Eå†å²åˆ†ä½æ•°ã€è¡Œä¸šå¯¹æ¯”)
- `FinancialHealthScorecard` - è´¢åŠ¡å¥åº·åº¦è¯„åˆ†å¡ (æœé‚¦åˆ†æã€ç°é‡‘æµ)
- `DocumentViewer` - æ–‡æ¡£æŸ¥çœ‹å™¨ (AIæ‘˜è¦/åŸæ–‡/å¯¹æ¯”ä¸‰ç§è§†å›¾)
- `DuPontAnalysisChart` - æœé‚¦åˆ†æå›¾è¡¨ (ROEæ‹†è§£å¯è§†åŒ–)
- `GrowthStageChart` - æˆé•¿é˜¶æ®µå›¾è¡¨ (Sæ›²çº¿å®šä½)
- `IndustryComparisonChart` - è¡Œä¸šå¯¹æ¯”å›¾è¡¨

**æ–°é¡µé¢ (2ä¸ª)**:
- `/dashboard` - æŠ•èµ„ä»ªè¡¨ç›˜ (å¸‚åœºæ¦‚è§ˆã€AIæ¨èã€æœ€æ–°åˆ†æ)
- `/analysis/[symbol]` - å…¬å¸æ·±åº¦åˆ†æé¡µ (äº”ç»´åˆ†æã€æŠ•èµ„è¯„çº§ã€åŸæ–‡å±•ç¤º)

**UIåŸºç¡€ç»„ä»¶ (2ä¸ª)**:
- `src/components/ui/progress.tsx` - è¿›åº¦æ¡ç»„ä»¶
- `src/components/ui/tabs.tsx` - æ ‡ç­¾é¡µç»„ä»¶

**æµ‹è¯•åŸºç¡€è®¾æ–½ (Phase 5 æ–°å¢)**:
- `jest.config.ts` - Jesté…ç½®æ–‡ä»¶
- `jest.setup.ts` - æµ‹è¯•ç¯å¢ƒåˆå§‹åŒ–
- `src/__tests__/test-utils.tsx` - æµ‹è¯•å·¥å…·å’Œæ•°æ®
- `src/__tests__/test-guide.ts` - æµ‹è¯•æŒ‡å—
- `src/__tests__/components/investment/*.test.tsx` - ç»„ä»¶å•å…ƒæµ‹è¯•
- `src/__tests__/api/*.test.tsx` - APIç«¯ç‚¹æµ‹è¯•
- `src/__tests__/integration/*.test.tsx` - é›†æˆæµ‹è¯•

**æ€§èƒ½ä¼˜åŒ– (Phase 5 æ–°å¢)**:
- React.memoä¼˜åŒ–æ‰€æœ‰å›¾è¡¨ç»„ä»¶ (4ä¸ª)
- useMemoç¼“å­˜è®¡ç®— (å‡å°‘80%é‡æ¸²æŸ“)
- useCallbackä¼˜åŒ–äº‹ä»¶å¤„ç†å™¨
- æ•°æ®é¢„åŠ è½½Hook (usePrefetch)
- IntersectionObserveræ‡’åŠ è½½

**ç±»å‹å®šä¹‰ (Phase 5-6 æ–°å¢)**:
- `src/types/investment.ts` - æŠ•èµ„åˆ†æç±»å‹ (å·²æ›´æ–°AIåŠ©æ‰‹å’Œé¢„è­¦ç³»ç»Ÿç±»å‹)

**AIåŠ©æ‰‹ç³»ç»Ÿ (Phase 6 Week 7 æ–°å¢)**:
- `supabase/migrations/006_vector_embeddings.sql` - å‘é‡æ•°æ®åº“Schema
- `src/lib/ai/embeddings.ts` - æ–‡æœ¬åµŒå…¥ç”Ÿæˆ
- `src/lib/ai/rag.ts` - RAGæ£€ç´¢å¢å¼º
- `src/lib/ai/assistant.ts` - AIå¯¹è¯å¼•æ“
- `src/lib/ai/ingestion.ts` - çŸ¥è¯†åº“æ‘„å–
- `src/app/api/assistant/chat/route.ts` - å¯¹è¯API
- `src/components/investment/chat-interface.tsx` - èŠå¤©ç•Œé¢

**æ™ºèƒ½é¢„è­¦ç³»ç»Ÿ (Phase 6 Week 8 æ–°å¢)**:
- `supabase/migrations/007_alert_system.sql` - é¢„è­¦ç³»ç»ŸSchema
- `src/lib/alerts/engine.ts` - é¢„è­¦è§„åˆ™å¼•æ“
- `src/lib/alerts/notifications.ts` - é‚®ä»¶é€šçŸ¥æœåŠ¡
- `src/app/api/alerts/route.ts` - é¢„è­¦ç®¡ç†API
- `src/components/investment/alert-management.tsx` - é¢„è­¦ç®¡ç†é¢æ¿
- `src/components/investment/notification-preferences.tsx` - é€šçŸ¥åå¥½è®¾ç½®
- `.github/workflows/process-alerts.yml` - è‡ªåŠ¨åŒ–é¢„è­¦å¤„ç†
- `scripts/process-alerts.ts` - é¢„è­¦å¤„ç†è„šæœ¬
- `scripts/send-pending-emails.ts` - é‚®ä»¶å‘é€è„šæœ¬
- `scripts/send-digests.ts` - æ±‡æ€»å‘é€è„šæœ¬

**æ€»è®¡**: 54ä¸ªæ–°æ–‡ä»¶ï¼Œå®Œæ•´æŠ•èµ„å†³ç­–ç³»ç»Ÿ
- åç«¯: 25ä¸ªæ–‡ä»¶ (æ•°æ®åº“ã€è„šæœ¬ã€APIã€AIå¼•æ“ã€é¢„è­¦å¼•æ“)
- å‰ç«¯: 15ä¸ªæ–‡ä»¶ (ç»„ä»¶ã€é¡µé¢)
- æµ‹è¯•: 8ä¸ªæ–‡ä»¶ (é…ç½®ã€å·¥å…·ã€æµ‹è¯•ç”¨ä¾‹)
- è‡ªåŠ¨åŒ–: 6ä¸ªæ–‡ä»¶ (GitHub Actionså·¥ä½œæµ)

---

**åˆ›å»ºæ—¥æœŸ**: 2026-02-11
**æœ€åæ›´æ–°**: 2026-02-11
**Phase 1-6 å®Œæˆæ—¥æœŸ**: 2026-02-11
**å½“å‰çŠ¶æ€**: âœ… Phase 1-6 å…¨éƒ¨å®Œæˆ (54/54 æ–‡ä»¶)
**é¡¹ç›®çŠ¶æ€**: ğŸ‰ æŠ•èµ„å†³ç­–è¾…åŠ©ç³»ç»Ÿå®Œæ•´äº¤ä»˜

### ç³»ç»ŸåŠŸèƒ½æ€»è§ˆ

| æ¨¡å— | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|
| **äº”ç»´åˆ†æ** | è´¢åŠ¡è´¨é‡ã€æˆé•¿ã€æŠ¤åŸæ²³ã€ä¼°å€¼ã€é£é™© | âœ… |
| **ä¼°å€¼æ•°æ®** | P/Eã€P/Bã€P/Sã€ROEã€è¡Œä¸šå¯¹æ¯” | âœ… |
| **ç ”æŠ¥ç³»ç»Ÿ** | åˆ†æå¸ˆè¯„çº§ã€ç›®æ ‡ä»·ã€ç ”æŠ¥åˆ—è¡¨ | âœ… |
| **åŸæ–‡å±•ç¤º** | SEC EDGARã€AIæ‘˜è¦ã€å¯¹ç…§è§†å›¾ | âœ… |
| **AIåŠ©æ‰‹** | RAGé—®ç­”ã€çŸ¥è¯†åº“ã€å¯¹è¯å†å² | âœ… |
| **æ™ºèƒ½é¢„è­¦** | è§„åˆ™å¼•æ“ã€é‚®ä»¶é€šçŸ¥ã€åå¥½è®¾ç½® | âœ… |
| **è‡ªåŠ¨åŒ–** | æ•°æ®åŒæ­¥ã€é¢„è­¦å¤„ç†ã€å®šæ—¶ä»»åŠ¡ | âœ… |
| **æµ‹è¯•è¦†ç›–** | å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€æ€§èƒ½ä¼˜åŒ– | âœ… |
