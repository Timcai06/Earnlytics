# Earnlytics 项目文档

> **状态**: 设计阶段已完成 ✅ | 开发阶段准备中 🚀  
> **更新时间**: 2025-02-07  
> **设计文件**: [pencil-earnlytics.pen](./pencil-earnlytics.pen)

---

## 📋 项目概述

Earnlytics 是一个**AI驱动的美国科技公司财报分析平台**，为中国投资者提供快速、易懂的中文财报解读。

### 核心价值主张

1. **速度**: 财报发布后 1 小时内生成 AI 分析
2. **易读**: 复杂财务数据转化为中文摘要
3. **专注**: 覆盖 30+ 科技巨头（AAPL, MSFT, NVDA 等）
4. **免费**: 基础功能永久免费

---

## 🎨 设计系统

### 设计稿完成情况

**已完成 13 个页面设计**（详见设计文件）:

| 页面类型 | 页面名称 | 设计 ID | 状态 |
|---------|---------|---------|------|
| **营销页面** | Landing Page | ZAmlV | ✅ 已完成 |
| **用户系统** | Sign Up Page | VxmOF | ✅ 已完成 |
| **用户系统** | Login Page | mmO4y | ✅ 已完成 |
| **用户系统** | User Profile | NAQg7 | ✅ 已完成 |
| **核心功能** | Home Page | VrH0K | ✅ 已完成 |
| **核心功能** | Calendar Page | J0KoA | ✅ 已完成 |
| **核心功能** | Companies Directory | SIzPO | ✅ 已完成 |
| **核心功能** | Earnings Detail | dBqfg | ✅ 已完成 |
| **系统页面** | 404 Page | 3gD89 | ✅ 已完成 |
| **系统页面** | About Us | 6Mu38 | ✅ 已完成 |
| **设计系统** | Component States | BX743 | ✅ 已完成 |
| **设计系统** | Responsive Design | c0Eox | ✅ 已完成 |
| **共享组件** | Header Component | GA7Uf | ✅ 已完成 |

### Design Token 系统

**颜色变量**:
```css
--primary: #2563EB          /* 主品牌色 */
--primary-hover: #1D4ED8    /* 悬停状态 */
--primary-light: #EFF6FF    /* 浅色背景 */
--background: #FAFAFA       /* 页面背景 */
--surface: #FFFFFF          /* 卡片背景 */
--text-primary: #0F172A     /* 主文字 */
--text-secondary: #64748B   /* 次要文字 */
--text-tertiary: #94A3B8    /* 辅助文字 */
--border: #E2E8F0           /* 边框 */
--success: #16A34A          /* 成功状态 */
--warning: #991B1B          /* 警告状态 */
--info: #1E40AF             /* 信息状态 */
```

**间距系统**:
```css
--spacing-1: 4px
--spacing-2: 8px
--spacing-3: 12px
--spacing-4: 16px
--spacing-6: 24px
--spacing-8: 32px
--spacing-12: 48px
--spacing-16: 64px
--spacing-20: 80px
```

**圆角系统**:
```css
--radius-sm: 6px   /* 标签、小按钮 */
--radius-md: 8px   /* 按钮、输入框 */
--radius-lg: 12px  /* 卡片 */
--radius-xl: 16px  /* 大卡片、模态框 */
```

**字体系统**:
- 字体家族: Inter
- 标题层次: 48px / 40px / 32px / 24px / 20px
- 正文层次: 18px / 16px / 14px / 12px

---

## 🏗️ 技术架构

### 技术栈

```
前端: Next.js 14 + React + TypeScript + Tailwind CSS
组件库: shadcn/ui
后端: Vercel Serverless + Supabase
数据库: PostgreSQL (Supabase)
AI: DeepSeek API
自动化: GitHub Actions
部署: Vercel (ISR)
```

### 数据库 Schema

```sql
-- 公司表
CREATE TABLE companies (
  id SERIAL PRIMARY KEY,
  symbol VARCHAR(10) UNIQUE NOT NULL,
  name VARCHAR(100) NOT NULL,
  sector VARCHAR(50),
  logo_url VARCHAR(255),
  created_at TIMESTAMP DEFAULT NOW()
);

-- 财报表
CREATE TABLE earnings (
  id SERIAL PRIMARY KEY,
  company_id INTEGER REFERENCES companies(id),
  fiscal_year INTEGER NOT NULL,
  fiscal_quarter INTEGER NOT NULL,
  report_date DATE NOT NULL,
  revenue NUMERIC(20, 2),
  revenue_yoy_growth DECIMAL(5, 2),
  eps DECIMAL(10, 2),
  eps_estimate DECIMAL(10, 2),
  eps_surprise DECIMAL(10, 2),
  net_income NUMERIC(20, 2),
  is_analyzed BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(company_id, fiscal_year, fiscal_quarter)
);

-- AI分析表
CREATE TABLE ai_analyses (
  id SERIAL PRIMARY KEY,
  earnings_id INTEGER REFERENCES earnings(id) UNIQUE,
  summary TEXT NOT NULL,
  highlights JSONB,
  concerns JSONB,
  sentiment VARCHAR(20),
  tokens_used INTEGER,
  cost_usd DECIMAL(10, 6),
  created_at TIMESTAMP DEFAULT NOW()
);

-- 用户表 (Supabase Auth)
-- 订阅表
CREATE TABLE subscriptions (
  id SERIAL PRIMARY KEY,
  user_id UUID REFERENCES auth.users(id),
  tier VARCHAR(20) NOT NULL, -- free/pro/team
  status VARCHAR(20),
  created_at TIMESTAMP DEFAULT NOW()
);

-- 邮件订阅表
CREATE TABLE subscribers (
  id SERIAL PRIMARY KEY,
  email VARCHAR(255) UNIQUE NOT NULL,
  is_active BOOLEAN DEFAULT TRUE,
  subscribed_at TIMESTAMP DEFAULT NOW()
);
```

---

## 📱 页面开发清单

### Phase 1: 核心页面（Week 1-2）

| 优先级 | 页面 | 依赖 | 工作量 |
|-------|------|------|--------|
| P0 | Landing Page | - | 2天 |
| P0 | Home Page | Header, Footer | 1天 |
| P0 | Login Page | - | 0.5天 |
| P0 | Sign Up Page | - | 0.5天 |
| P0 | 404 Page | - | 0.5天 |
| P1 | Companies Directory | Card组件 | 1天 |
| P1 | Earnings Detail | 数据API | 2天 |

### Phase 2: 功能页面（Week 3-4）

| 优先级 | 页面 | 依赖 | 工作量 |
|-------|------|------|--------|
| P1 | Calendar Page | 日历组件 | 1.5天 |
| P1 | User Profile | 认证系统 | 1.5天 |
| P2 | About Us | - | 0.5天 |

### Phase 3: 响应式适配（Week 5）

- Mobile Header 组件
- 移动端布局优化
- 断点适配: sm(640px) / md(768px) / lg(1024px) / xl(1280px)

---

## 🚀 开发计划

### Week 1: 项目初始化 + 核心页面

**Day 1-2: 环境搭建**
- [ ] Next.js 项目初始化
- [ ] Tailwind CSS + shadcn/ui 配置
- [ ] Supabase 数据库配置
- [ ] Design Token 导入
- [ ] 共享组件搭建 (Header, Footer, Button, Card)

**Day 3-4: Landing Page + Home Page**
- [ ] Landing Page 开发
- [ ] Home Page 开发
- [ ] 响应式 Header 组件
- [ ] Footer 组件

**Day 5-7: 用户认证页面**
- [ ] Login Page
- [ ] Sign Up Page
- [ ] 404 Page
- [ ] 表单验证逻辑

### Week 2: 核心功能页面

**Day 8-9: Companies Directory**
- [ ] 公司卡片组件
- [ ] 筛选功能
- [ ] 列表/网格视图

**Day 10-12: Earnings Detail**
- [ ] 详情页布局
- [ ] 数据可视化 (图表)
- [ ] AI 分析展示
- [ ] 相关公司推荐

**Day 13-14: Calendar Page**
- [ ] 日历组件
- [ ] 财报事件展示
- [ ] 月份切换

### Week 3: 高级功能

**Day 15-16: User Profile**
- [ ] 个人信息编辑
- [ ] 密码修改
- [ ] 订阅管理

**Day 17-18: About Us + 优化**
- [ ] About Us 页面
- [ ] 性能优化
- [ ] SEO 基础配置

### Week 4: 响应式 + 上线准备

**Day 19-20: 响应式适配**
- [ ] Mobile Header (汉堡菜单)
- [ ] 移动端布局调整
- [ ] 触摸交互优化

**Day 21-22: 测试 + 修复**
- [ ] 跨浏览器测试
- [ ] 移动端测试
- [ ] Bug 修复

**Day 23-25: 部署上线**
- [ ] Vercel 部署
- [ ] 域名配置
- [ ] 监控设置

---

## 💰 商业模式

### Phase 1: 免费 + 广告（Month 1-2）

- 基础功能完全免费
- Google AdSense 展示广告
- 目标: 月 PV 30K → 收入 $150

### Phase 2: 高级订阅（Month 3-4）

**Pro 版 - $9.99/月 或 $99/年**:
- 实时财报提醒
- 深度对比分析
- 数据导出功能
- 无广告体验

### Phase 3: 企业服务（Month 6+）

- API 数据服务
- 定制研究报告
- 团队版订阅 ($49/月)

---

## 📊 成功指标

### Month 1 目标

- [ ] 10个页面开发完成
- [ ] Vercel 部署成功
- [ ] 5家公司数据展示
- [ ] 网站可公开访问

### Month 2 目标

- [ ] AI 分析功能上线
- [ ] 自动化数据获取
- [ ] 扩展到 30 家公司
- [ ] AdSense 申请通过

### Month 3 目标

- [ ] 日 PV 1000+
- [ ] 自然搜索流量 > 50%
- [ ] 邮件订阅用户 100+
- [ ] 月收入 $50+

---

## 🛠️ 资源清单

| 资源 | 用途 | 成本 | 链接 |
|------|------|------|------|
| GitHub | 代码托管 | ¥0 | github.com |
| Vercel | 网站部署 | ¥0 | vercel.com |
| Supabase | 数据库 | ¥0 | supabase.com |
| FMP API | 财报数据 | ¥0 | financialmodelingprep.com |
| DeepSeek | AI分析 | ¥0.002/千tokens | platform.deepseek.com |
| Google AdSense | 广告变现 | 免费 | adsense.google.com |

---

## 📚 相关文档

- [计划1: MVP启动](./计划1-MVP启动.md)
- [计划2: AI自动化](./计划2-AI自动化.md)
- [计划3: 规模化](./计划3-规模化.md)
- [计划4: 增长优化](./计划4-增长优化.md)
- [计划5: 商业化](./计划5-商业化.md)
- [页面与交互逻辑梳理](../页面与交互逻辑梳理.md)

---

## ✅ 设计稿验收标准

所有设计稿已完成并满足以下标准：

- ✅ 13 个完整页面设计
- ✅ 统一的 Design Token 系统
- ✅ 组件交互状态规范 (Default/Hover/Active/Disabled)
- ✅ 响应式设计规范
- ✅ 可复用的共享组件 (Header)
- ✅ 所有页面包含一致的 Header + Footer

---

**下一步**: 开始 Phase 1 开发 → [计划1: MVP启动](./计划1-MVP启动.md)
